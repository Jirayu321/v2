{"ast":null,"code":"/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2019 JiHong Lee.\n * MIT license.\n */\n'use strict';\n\nexport default function (core, change) {\n  const _w = core._w;\n  const util = core.util;\n  const delayTime = core.options.historyStackDelayTime;\n  let editor = core.context.element;\n  let undo = core.context.tool.undo;\n  let redo = core.context.tool.redo;\n  let pushDelay = null;\n  let stackIndex = 0;\n  let stack = [];\n\n  function setContentsFromStack() {\n    const item = stack[stackIndex];\n    editor.wysiwyg.innerHTML = item.contents;\n    core.setRange(util.getNodeFromPath(item.s.path, editor.wysiwyg), item.s.offset, util.getNodeFromPath(item.e.path, editor.wysiwyg), item.e.offset);\n    core.focus();\n\n    if (stack.length <= 1) {\n      if (undo) undo.setAttribute('disabled', true);\n      if (redo) redo.setAttribute('disabled', true);\n    } else {\n      if (stackIndex === 0) {\n        if (undo) undo.setAttribute('disabled', true);\n        if (redo) redo.removeAttribute('disabled');\n      } else if (stackIndex === stack.length - 1) {\n        if (undo) undo.removeAttribute('disabled');\n        if (redo) redo.setAttribute('disabled', true);\n      } else {\n        if (undo) undo.removeAttribute('disabled');\n        if (redo) redo.removeAttribute('disabled');\n      }\n    }\n\n    core.controllersOff();\n\n    core._checkComponents();\n\n    core._setCharCount();\n\n    core._resourcesStateChange(); // onChange\n\n\n    change();\n  }\n\n  function pushStack() {\n    core._checkComponents();\n\n    const current = core.getContents(true);\n    if (!current || !!stack[stackIndex] && current === stack[stackIndex].contents) return;\n    stackIndex++;\n    const range = core._variable._range;\n\n    if (stack.length > stackIndex) {\n      stack = stack.slice(0, stackIndex);\n      if (redo) redo.setAttribute('disabled', true);\n    }\n\n    if (!range) {\n      stack[stackIndex] = {\n        contents: current,\n        s: {\n          path: [0, 0],\n          offset: [0, 0]\n        },\n        e: {\n          path: 0,\n          offset: 0\n        }\n      };\n    } else {\n      stack[stackIndex] = {\n        contents: current,\n        s: {\n          path: util.getNodePath(range.startContainer, null, null),\n          offset: range.startOffset\n        },\n        e: {\n          path: util.getNodePath(range.endContainer, null, null),\n          offset: range.endOffset\n        }\n      };\n    }\n\n    if (stackIndex === 1 && undo) undo.removeAttribute('disabled');\n\n    core._setCharCount(); // onChange\n\n\n    change();\n  }\n\n  return {\n    /**\n     * @description History stack\n     */\n    stack: stack,\n\n    /**\n     * @description Saving the current status to the history object stack\n     * If \"delay\" is true, it will be saved after (options.historyStackDelayTime || 400) miliseconds\n     * If the function is called again with the \"delay\" argument true before it is saved, the delay time is renewal\n     * You can specify the delay time by sending a number.\n     * @param {Boolean|Number} delay If true, Add stack without delay time.\n     */\n    push: function (delay) {\n      _w.setTimeout(core._resourcesStateChange.bind(core));\n\n      const time = typeof delay === 'number' ? delay > 0 ? delay : 0 : !delay ? 0 : delayTime;\n\n      if (!time || pushDelay) {\n        _w.clearTimeout(pushDelay);\n\n        if (!time) {\n          pushStack();\n          return;\n        }\n      }\n\n      pushDelay = _w.setTimeout(function () {\n        _w.clearTimeout(pushDelay);\n\n        pushDelay = null;\n        pushStack();\n      }, time);\n    },\n\n    /**\n     * @description Undo function\n     */\n    undo: function () {\n      if (stackIndex > 0) {\n        stackIndex--;\n        setContentsFromStack();\n      }\n    },\n\n    /**\n     * @description Redo function\n     */\n    redo: function () {\n      if (stack.length - 1 > stackIndex) {\n        stackIndex++;\n        setContentsFromStack();\n      }\n    },\n\n    /**\n     * @description Go to the history stack for that index.\n     * If \"index\" is -1, go to the last stack\n     */\n    go: function (index) {\n      stackIndex = index < 0 ? stack.length - 1 : index;\n      setContentsFromStack();\n    },\n\n    /**\n     * @description Get the current history stack index.\n     * @returns {Number} Current Stack index\n     */\n    getCurrentIndex: function () {\n      return stackIndex;\n    },\n\n    /**\n     * @description Reset the history object\n     */\n    reset: function (ignoreChangeEvent) {\n      if (undo) undo.setAttribute('disabled', true);\n      if (redo) redo.setAttribute('disabled', true);\n      core._variable.isChanged = false;\n      if (core.context.tool.save) core.context.tool.save.setAttribute('disabled', true);\n      stack.splice(0);\n      stackIndex = 0; // pushStack\n\n      stack[stackIndex] = {\n        contents: core.getContents(true),\n        s: {\n          path: [0, 0],\n          offset: 0\n        },\n        e: {\n          path: [0, 0],\n          offset: 0\n        }\n      };\n      if (!ignoreChangeEvent) change();\n    },\n\n    /**\n     * @description Reset the disabled state of the buttons to fit the current stack.\n     * @private\n     */\n    _resetCachingButton: function () {\n      editor = core.context.element;\n      undo = core.context.tool.undo;\n      redo = core.context.tool.redo;\n\n      if (stackIndex === 0) {\n        if (undo) undo.setAttribute('disabled', true);\n        if (redo && stackIndex === stack.length - 1) redo.setAttribute('disabled', true);\n        core._variable.isChanged = false;\n        if (core.context.tool.save) core.context.tool.save.setAttribute('disabled', true);\n      } else if (stackIndex === stack.length - 1) {\n        if (redo) redo.setAttribute('disabled', true);\n      }\n    },\n\n    /**\n     * @description Remove all stacks and remove the timeout function.\n     * @private\n     */\n    _destroy: function () {\n      if (pushDelay) _w.clearTimeout(pushDelay);\n      stack = null;\n    }\n  };\n}","map":{"version":3,"names":["core","change","_w","util","delayTime","options","historyStackDelayTime","editor","context","element","undo","tool","redo","pushDelay","stackIndex","stack","setContentsFromStack","item","wysiwyg","innerHTML","contents","setRange","getNodeFromPath","s","path","offset","e","focus","length","setAttribute","removeAttribute","controllersOff","_checkComponents","_setCharCount","_resourcesStateChange","pushStack","current","getContents","range","_variable","_range","slice","getNodePath","startContainer","startOffset","endContainer","endOffset","push","delay","setTimeout","bind","time","clearTimeout","go","index","getCurrentIndex","reset","ignoreChangeEvent","isChanged","save","splice","_resetCachingButton","_destroy"],"sources":["/Users/jirayuyungmeesuk/Desktop/code/client/node_modules/suneditor/src/lib/history.js"],"sourcesContent":["/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2019 JiHong Lee.\n * MIT license.\n */\n'use strict';\n\nexport default function (core, change) {\n    const _w = core._w;\n    const util = core.util;\n    const delayTime = core.options.historyStackDelayTime;\n    let editor = core.context.element;\n    let undo = core.context.tool.undo;\n    let redo = core.context.tool.redo;\n\n    let pushDelay = null;\n    let stackIndex = 0;\n    let stack = [];\n\n    function setContentsFromStack () {\n        const item = stack[stackIndex];\n        editor.wysiwyg.innerHTML = item.contents;\n\n        core.setRange(util.getNodeFromPath(item.s.path, editor.wysiwyg), item.s.offset, util.getNodeFromPath(item.e.path, editor.wysiwyg), item.e.offset);\n        core.focus();\n\n        if (stack.length <= 1) {\n            if (undo) undo.setAttribute('disabled', true);\n            if (redo) redo.setAttribute('disabled', true);\n        } else {\n            if (stackIndex === 0) {\n                if (undo) undo.setAttribute('disabled', true);\n                if (redo) redo.removeAttribute('disabled');\n            } else if (stackIndex === stack.length - 1) {\n                if (undo) undo.removeAttribute('disabled');\n                if (redo) redo.setAttribute('disabled', true);\n            } else {\n                if (undo) undo.removeAttribute('disabled');\n                if (redo) redo.removeAttribute('disabled');\n            }\n        }\n\n        core.controllersOff();\n        core._checkComponents();\n        core._setCharCount();\n        core._resourcesStateChange();\n        \n        // onChange\n        change();\n    }\n\n    function pushStack () {\n        core._checkComponents();\n        const current = core.getContents(true);\n        if (!current || (!!stack[stackIndex] && current === stack[stackIndex].contents)) return;\n\n        stackIndex++;\n        const range = core._variable._range;\n\n        if (stack.length > stackIndex) {\n            stack = stack.slice(0, stackIndex);\n            if (redo) redo.setAttribute('disabled', true);\n        }\n\n        if (!range) {\n            stack[stackIndex] = {\n                contents: current,\n                s: { path: [0, 0], offset: [0, 0] },\n                e: { path: 0, offset: 0 }\n            };\n        } else {\n            stack[stackIndex] = {\n                contents: current,\n                s: {\n                    path: util.getNodePath(range.startContainer, null, null),\n                    offset: range.startOffset\n                },\n                e: {\n                    path: util.getNodePath(range.endContainer, null, null),\n                    offset: range.endOffset\n                }\n            };\n        }\n\n        if (stackIndex === 1 && undo) undo.removeAttribute('disabled');\n\n        core._setCharCount();\n        // onChange\n        change();\n    }\n\n    return {\n        /**\n         * @description History stack\n         */\n        stack: stack,\n\n        /**\n         * @description Saving the current status to the history object stack\n         * If \"delay\" is true, it will be saved after (options.historyStackDelayTime || 400) miliseconds\n         * If the function is called again with the \"delay\" argument true before it is saved, the delay time is renewal\n         * You can specify the delay time by sending a number.\n         * @param {Boolean|Number} delay If true, Add stack without delay time.\n         */\n        push: function (delay) {\n            _w.setTimeout(core._resourcesStateChange.bind(core));\n            const time = typeof delay === 'number' ? (delay > 0 ? delay : 0) : (!delay ? 0 : delayTime);\n            \n            if (!time || pushDelay) {\n                _w.clearTimeout(pushDelay);\n                if (!time) {\n                    pushStack();\n                    return;\n                }\n            }\n\n            pushDelay = _w.setTimeout(function () {\n                _w.clearTimeout(pushDelay);\n                pushDelay = null;\n                pushStack();\n            }, time);\n        },\n\n        /**\n         * @description Undo function\n         */\n        undo: function () {\n            if (stackIndex > 0) {\n                stackIndex--;\n                setContentsFromStack();\n            }\n        },\n\n        /**\n         * @description Redo function\n         */\n        redo: function () {\n            if (stack.length - 1 > stackIndex) {\n                stackIndex++;\n                setContentsFromStack();\n            }\n        },\n\n        /**\n         * @description Go to the history stack for that index.\n         * If \"index\" is -1, go to the last stack\n         */\n        go: function (index) {\n            stackIndex = index < 0 ? (stack.length - 1) : index;\n            setContentsFromStack();\n        },\n\n        /**\n         * @description Get the current history stack index.\n         * @returns {Number} Current Stack index\n         */\n        getCurrentIndex: function () {\n            return stackIndex;\n        },\n        \n        /**\n         * @description Reset the history object\n         */\n        reset: function (ignoreChangeEvent) {\n            if (undo) undo.setAttribute('disabled', true);\n            if (redo) redo.setAttribute('disabled', true);\n            core._variable.isChanged = false;\n            if (core.context.tool.save) core.context.tool.save.setAttribute('disabled', true);\n            \n            stack.splice(0);\n            stackIndex = 0;\n\n            // pushStack\n            stack[stackIndex] = {\n                contents: core.getContents(true),\n                s: {\n                    path: [0, 0],\n                    offset: 0\n                },\n                e: {\n                    path: [0, 0],\n                    offset: 0\n                }\n            };\n\n            if (!ignoreChangeEvent) change();\n        },\n\n        /**\n         * @description Reset the disabled state of the buttons to fit the current stack.\n         * @private\n         */\n        _resetCachingButton: function () {\n            editor = core.context.element;\n            undo = core.context.tool.undo;\n            redo = core.context.tool.redo;\n\n            if (stackIndex === 0) {\n                if (undo) undo.setAttribute('disabled', true);\n                if (redo && stackIndex === stack.length - 1) redo.setAttribute('disabled', true);\n                core._variable.isChanged = false;\n                if (core.context.tool.save) core.context.tool.save.setAttribute('disabled', true);\n            } else if (stackIndex === stack.length - 1) {\n                if (redo) redo.setAttribute('disabled', true);\n            }\n        },\n\n        /**\n         * @description Remove all stacks and remove the timeout function.\n         * @private\n         */\n        _destroy: function () {\n            if (pushDelay) _w.clearTimeout(pushDelay);\n            stack = null;\n        }\n    };\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}