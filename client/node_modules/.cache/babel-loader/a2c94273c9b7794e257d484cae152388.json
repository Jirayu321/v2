{"ast":null,"code":"/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2018 JiHong Lee.\n * MIT license.\n */\n'use strict';\n\nexport default {\n  name: 'selectMenu',\n  add: function (core) {\n    core.context.selectMenu = {\n      caller: {},\n      callerContext: null\n    };\n  },\n  setForm: function () {\n    return '<div class=\"se-select-list\"></div>';\n  },\n  createList: function (listContext, items, html) {\n    listContext.form.innerHTML = '<ul>' + html + '</ul>';\n    listContext.items = items;\n    listContext.menus = listContext.form.querySelectorAll('li');\n  },\n  initEvent: function (pluginName, forms) {\n    const form = forms.querySelector('.se-select-list');\n    const context = this.context.selectMenu.caller[pluginName] = {\n      form: form,\n      items: [],\n      menus: [],\n      index: -1,\n      item: null,\n      clickMethod: null,\n      callerName: pluginName\n    };\n    form.addEventListener('mousedown', this.plugins.selectMenu.onMousedown_list);\n    form.addEventListener('mousemove', this.plugins.selectMenu.onMouseMove_list.bind(this, context));\n    form.addEventListener('click', this.plugins.selectMenu.onClick_list.bind(this, context));\n  },\n  onMousedown_list: function (e) {\n    e.preventDefault();\n    e.stopPropagation();\n  },\n  onMouseMove_list: function (context, e) {\n    this.util.addClass(context.form, '__se_select-menu-mouse-move');\n    const index = e.target.getAttribute('data-index');\n    if (!index) return;\n    context.index = index * 1;\n  },\n  onClick_list: function (context, e) {\n    const index = e.target.getAttribute('data-index');\n    if (!index) return;\n    context.clickMethod.call(this, context.items[index]);\n  },\n  moveItem: function (listContext, num) {\n    this.util.removeClass(listContext.form, '__se_select-menu-mouse-move');\n    num = listContext.index + num;\n    const menus = listContext.menus;\n    const len = menus.length;\n    const selectIndex = listContext.index = num >= len ? 0 : num < 0 ? len - 1 : num;\n\n    for (let i = 0; i < len; i++) {\n      if (i === selectIndex) {\n        this.util.addClass(menus[i], 'active');\n      } else {\n        this.util.removeClass(menus[i], 'active');\n      }\n    }\n\n    listContext.item = listContext.items[selectIndex];\n  },\n  getItem: function (listContext, index) {\n    index = !index || index < 0 ? listContext.index : index;\n    return listContext.items[index];\n  },\n  on: function (callerName, clickMethod) {\n    const listContext = this.context.selectMenu.caller[callerName];\n    this.context.selectMenu.callerContext = listContext;\n    listContext.clickMethod = clickMethod;\n    listContext.callerName = callerName;\n  },\n  open: function (listContext, positionHandler) {\n    const form = listContext.form;\n    form.style.visibility = 'hidden';\n    form.style.display = 'block';\n    positionHandler(form);\n    form.style.visibility = '';\n  },\n  close: function (listContext) {\n    listContext.form.style.display = 'none';\n    listContext.items = [];\n    listContext.menus = [];\n    listContext.index = -1;\n    listContext.item = null;\n  },\n  init: function (listContext) {\n    if (!listContext) return;\n    listContext.items = [];\n    listContext.menus = [];\n    listContext.index = -1;\n    listContext.item = null;\n    listContext.callerName = '';\n    this.context.selectMenu.callerContext = null;\n  }\n};","map":{"version":3,"names":["name","add","core","context","selectMenu","caller","callerContext","setForm","createList","listContext","items","html","form","innerHTML","menus","querySelectorAll","initEvent","pluginName","forms","querySelector","index","item","clickMethod","callerName","addEventListener","plugins","onMousedown_list","onMouseMove_list","bind","onClick_list","e","preventDefault","stopPropagation","util","addClass","target","getAttribute","call","moveItem","num","removeClass","len","length","selectIndex","i","getItem","on","open","positionHandler","style","visibility","display","close","init"],"sources":["/Users/jirayuyungmeesuk/Desktop/code/client/node_modules/suneditor/src/plugins/modules/_selectMenu.js"],"sourcesContent":["/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2018 JiHong Lee.\n * MIT license.\n */\n'use strict';\n\nexport default {\n    name: 'selectMenu',\n    add: function (core) {\n        core.context.selectMenu = {\n            caller: {},\n            callerContext: null\n        };\n    },\n\n    setForm: function () {\n        return '<div class=\"se-select-list\"></div>';\n    },\n\n    createList: function (listContext, items, html) {\n        listContext.form.innerHTML = '<ul>' + html + '</ul>';\n        listContext.items = items;\n        listContext.menus = listContext.form.querySelectorAll('li');\n    },\n\n    initEvent: function (pluginName, forms) {\n        const form = forms.querySelector('.se-select-list');\n        const context = this.context.selectMenu.caller[pluginName] = {\n            form: form,\n            items: [],\n            menus: [],\n            index: -1,\n            item: null,\n            clickMethod: null,\n            callerName: pluginName\n        };\n\n        form.addEventListener('mousedown', this.plugins.selectMenu.onMousedown_list);\n        form.addEventListener('mousemove', this.plugins.selectMenu.onMouseMove_list.bind(this, context));\n        form.addEventListener('click', this.plugins.selectMenu.onClick_list.bind(this, context));\n    },\n\n    onMousedown_list: function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n    },\n\n    onMouseMove_list: function (context, e) {\n        this.util.addClass(context.form, '__se_select-menu-mouse-move');\n        const index = e.target.getAttribute('data-index');\n        if (!index) return;\n        context.index = index * 1;\n    },\n\n    onClick_list: function (context, e) {\n        const index = e.target.getAttribute('data-index');\n        if (!index) return;\n        context.clickMethod.call(this, context.items[index]);\n    },\n\n    moveItem: function (listContext, num) {\n        this.util.removeClass(listContext.form, '__se_select-menu-mouse-move');\n        num = listContext.index + num;\n        const menus = listContext.menus;\n        const len = menus.length;\n        const selectIndex = listContext.index = num >= len ? 0 : num < 0 ? len - 1 : num;\n        \n        for (let i = 0; i < len; i++) {\n            if (i === selectIndex) {\n                this.util.addClass(menus[i], 'active');\n            } else {\n                this.util.removeClass(menus[i], 'active');\n            }\n        }\n\n        listContext.item = listContext.items[selectIndex];\n    },\n\n    getItem: function (listContext, index) {\n        index = (!index || index < 0) ? listContext.index : index;\n        return listContext.items[index];\n    },\n\n    on: function (callerName, clickMethod) {\n        const listContext = this.context.selectMenu.caller[callerName];\n        this.context.selectMenu.callerContext = listContext;\n        listContext.clickMethod = clickMethod;\n        listContext.callerName = callerName;\n    },\n\n    open: function (listContext, positionHandler) {\n        const form = listContext.form;\n        form.style.visibility = 'hidden';\n        form.style.display = 'block';\n        positionHandler(form);\n        form.style.visibility = '';\n    },\n\n    close: function (listContext) {\n        listContext.form.style.display = 'none';\n        listContext.items = [];\n        listContext.menus = [];\n        listContext.index = -1;\n        listContext.item = null;\n    },\n\n    init: function (listContext) {\n        if (!listContext) return;\n        listContext.items = [];\n        listContext.menus = [];\n        listContext.index = -1;\n        listContext.item = null;\n        listContext.callerName = '';\n        this.context.selectMenu.callerContext = null;\n    }\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}