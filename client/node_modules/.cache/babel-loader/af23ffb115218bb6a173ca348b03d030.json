{"ast":null,"code":"/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n'use strict';\n\nexport default {\n  name: 'horizontalRule',\n  display: 'submenu',\n  add: function (core, targetElement) {\n    core.context.horizontalRule = {\n      currentHR: null\n    };\n    /** set submenu */\n\n    let listDiv = this.setSubmenu(core);\n    /** add event listeners */\n\n    listDiv.querySelector('ul').addEventListener('click', this.horizontalRulePick.bind(core));\n    /** append target button menu */\n\n    core.initMenuTarget(this.name, targetElement, listDiv);\n    /** empty memory */\n\n    listDiv = null;\n  },\n  setSubmenu: function (core) {\n    const lang = core.lang;\n    const listDiv = core.util.createElement('DIV');\n    const items = core.options.hrItems || [{\n      name: lang.toolbar.hr_solid,\n      class: '__se__solid'\n    }, {\n      name: lang.toolbar.hr_dashed,\n      class: '__se__dashed'\n    }, {\n      name: lang.toolbar.hr_dotted,\n      class: '__se__dotted'\n    }];\n    let list = '';\n\n    for (let i = 0, len = items.length; i < len; i++) {\n      list += '<li>' + '<button type=\"button\" class=\"se-btn-list btn_line\" data-command=\"horizontalRule\" data-value=\"' + items[i].class + '\" title=\"' + items[i].name + '\" aria-label=\"' + items[i].name + '\">' + '<hr' + (items[i].class ? ' class=\"' + items[i].class + '\"' : '') + (items[i].style ? ' style=\"' + items[i].style + '\"' : '') + '/>' + '</button>' + '</li>';\n    }\n\n    listDiv.className = 'se-submenu se-list-layer se-list-line';\n    listDiv.innerHTML = '' + '<div class=\"se-list-inner\">' + '<ul class=\"se-list-basic\">' + list + '</ul>' + '</div>';\n    return listDiv;\n  },\n  active: function (element) {\n    if (!element) {\n      if (this.util.hasClass(this.context.horizontalRule.currentHR, 'on')) {\n        this.controllersOff();\n      }\n    } else if (/HR/i.test(element.nodeName)) {\n      this.context.horizontalRule.currentHR = element;\n\n      if (!this.util.hasClass(element, 'on')) {\n        this.util.addClass(element, 'on');\n        this.controllersOn('hr', this.util.removeClass.bind(this.util, element, 'on'));\n      }\n\n      return true;\n    }\n\n    return false;\n  },\n  appendHr: function (hrTemp) {\n    this.focus();\n    return this.insertComponent(hrTemp.cloneNode(false), false, true, false);\n  },\n  horizontalRulePick: function (e) {\n    e.preventDefault();\n    e.stopPropagation();\n    let target = e.target;\n    let command = target.getAttribute('data-command');\n\n    while (!command && !/UL/i.test(target.tagName)) {\n      target = target.parentNode;\n      command = target.getAttribute('data-command');\n    }\n\n    if (!command) return;\n    const oNode = this.plugins.horizontalRule.appendHr.call(this, target.firstElementChild);\n\n    if (oNode) {\n      this.setRange(oNode, 0, oNode, 0);\n      this.submenuOff();\n    }\n  }\n};","map":{"version":3,"names":["name","display","add","core","targetElement","context","horizontalRule","currentHR","listDiv","setSubmenu","querySelector","addEventListener","horizontalRulePick","bind","initMenuTarget","lang","util","createElement","items","options","hrItems","toolbar","hr_solid","class","hr_dashed","hr_dotted","list","i","len","length","style","className","innerHTML","active","element","hasClass","controllersOff","test","nodeName","addClass","controllersOn","removeClass","appendHr","hrTemp","focus","insertComponent","cloneNode","e","preventDefault","stopPropagation","target","command","getAttribute","tagName","parentNode","oNode","plugins","call","firstElementChild","setRange","submenuOff"],"sources":["/Users/jirayuyungmeesuk/Desktop/ v2/client/node_modules/suneditor/src/plugins/submenu/horizontalRule.js"],"sourcesContent":["/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n'use strict';\n\nexport default {\n    name: 'horizontalRule',\n    display: 'submenu',\n    add: function (core, targetElement) {\n        core.context.horizontalRule = {\n            currentHR: null,\n        };\n\n        /** set submenu */\n        let listDiv = this.setSubmenu(core);\n\n        /** add event listeners */\n        listDiv.querySelector('ul').addEventListener('click', this.horizontalRulePick.bind(core));\n\n        /** append target button menu */\n        core.initMenuTarget(this.name, targetElement, listDiv);\n\n        /** empty memory */\n        listDiv = null;\n    },\n\n    setSubmenu: function (core) {\n        const lang = core.lang;\n        const listDiv = core.util.createElement('DIV');\n        const items = core.options.hrItems || [{name: lang.toolbar.hr_solid, class: '__se__solid'}, {name: lang.toolbar.hr_dashed, class: '__se__dashed'}, {name: lang.toolbar.hr_dotted, class: '__se__dotted'}];\n        \n        let list = '';\n        for (let i = 0, len = items.length; i < len; i++) {\n            list += '<li>' +\n                '<button type=\"button\" class=\"se-btn-list btn_line\" data-command=\"horizontalRule\" data-value=\"' + items[i].class + '\" title=\"' + items[i].name + '\" aria-label=\"' + items[i].name + '\">' +\n                    '<hr' + (items[i].class ? ' class=\"' + items[i].class + '\"' : '') + (items[i].style ? ' style=\"' + items[i].style + '\"' : '') + '/>' +\n                '</button>' +\n            '</li>';\n        }\n        \n        listDiv.className = 'se-submenu se-list-layer se-list-line';\n        listDiv.innerHTML = '' +\n            '<div class=\"se-list-inner\">' +\n                '<ul class=\"se-list-basic\">' +\n                    list +\n                '</ul>' +\n            '</div>';\n\n        return listDiv;\n    },\n\n    active: function (element) {\n        if (!element) {\n            if (this.util.hasClass(this.context.horizontalRule.currentHR, 'on')) {\n                this.controllersOff();\n            }\n        } else if (/HR/i.test(element.nodeName)) {\n            this.context.horizontalRule.currentHR = element;\n            if (!this.util.hasClass(element, 'on')) {\n                this.util.addClass(element, 'on');\n                this.controllersOn('hr', this.util.removeClass.bind(this.util, element, 'on'));\n            }\n            return true;\n        }\n\n        return false;\n    },\n\n    appendHr: function (hrTemp) {\n        this.focus();\n        return this.insertComponent(hrTemp.cloneNode(false), false, true, false);\n    },\n\n    horizontalRulePick: function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        let target = e.target;\n        let command = target.getAttribute('data-command');\n        \n        while (!command && !/UL/i.test(target.tagName)) {\n            target = target.parentNode;\n            command = target.getAttribute('data-command');\n        }\n\n        if (!command) return;\n\n        const oNode = this.plugins.horizontalRule.appendHr.call(this, target.firstElementChild);\n        if (oNode) {\n            this.setRange(oNode, 0, oNode, 0);\n            this.submenuOff();\n        }\n    }\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}