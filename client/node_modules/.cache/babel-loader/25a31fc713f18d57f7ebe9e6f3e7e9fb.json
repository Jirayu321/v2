{"ast":null,"code":"/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n'use strict';\n\nexport default {\n  name: 'paragraphStyle',\n  display: 'submenu',\n  add: function add(core, targetElement) {\n    var context = core.context;\n    context.paragraphStyle = {\n      _classList: null\n    };\n    /** set submenu */\n\n    var listDiv = this.setSubmenu(core);\n    /** add event listeners */\n\n    listDiv.querySelector('ul').addEventListener('click', this.pickUp.bind(core));\n    context.paragraphStyle._classList = listDiv.querySelectorAll('li button');\n    /** append target button menu */\n\n    core.initMenuTarget(this.name, targetElement, listDiv);\n    /** empty memory */\n\n    listDiv = null;\n  },\n  setSubmenu: function setSubmenu(core) {\n    var option = core.options;\n    var listDiv = core.util.createElement('DIV');\n    listDiv.className = 'se-submenu se-list-layer se-list-format';\n    var menuLang = core.lang.menu;\n    var defaultList = {\n      spaced: {\n        name: menuLang.spaced,\n        class: '__se__p-spaced',\n        _class: ''\n      },\n      bordered: {\n        name: menuLang.bordered,\n        class: '__se__p-bordered',\n        _class: ''\n      },\n      neon: {\n        name: menuLang.neon,\n        class: '__se__p-neon',\n        _class: ''\n      }\n    };\n    var paragraphStyles = !option.paragraphStyles || option.paragraphStyles.length === 0 ? ['spaced', 'bordered', 'neon'] : option.paragraphStyles;\n    var list = '<div class=\"se-list-inner\"><ul class=\"se-list-basic\">';\n\n    for (var i = 0, len = paragraphStyles.length, p, name, attrs, _class; i < len; i++) {\n      p = paragraphStyles[i];\n\n      if (typeof p === 'string') {\n        var defaultStyle = defaultList[p.toLowerCase()];\n        if (!defaultStyle) continue;\n        p = defaultStyle;\n      }\n\n      name = p.name;\n      attrs = p.class ? ' class=\"' + p.class + '\"' : '';\n      _class = p._class;\n      list += '<li>' + '<button type=\"button\" class=\"se-btn-list' + (_class ? ' ' + _class : '') + '\" data-value=\"' + p.class + '\" title=\"' + name + '\" aria-label=\"' + name + '\">' + '<div' + attrs + '>' + name + '</div>' + '</button></li>';\n    }\n\n    list += '</ul></div>';\n    listDiv.innerHTML = list;\n    return listDiv;\n  },\n\n  /**\n  * @Override submenu\n  */\n  on: function on() {\n    var paragraphContext = this.context.paragraphStyle;\n    var paragraphList = paragraphContext._classList;\n    var currentFormat = this.util.getFormatElement(this.getSelectionNode());\n\n    for (var i = 0, len = paragraphList.length; i < len; i++) {\n      if (this.util.hasClass(currentFormat, paragraphList[i].getAttribute('data-value'))) {\n        this.util.addClass(paragraphList[i], 'active');\n      } else {\n        this.util.removeClass(paragraphList[i], 'active');\n      }\n    }\n  },\n  pickUp: function pickUp(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    var target = e.target;\n    var value = null;\n\n    while (!/^UL$/i.test(target.tagName)) {\n      value = target.getAttribute('data-value');\n      if (value) break;\n      target = target.parentNode;\n    }\n\n    if (!value) return;\n    var selectedFormsts = this.getSelectedElements();\n\n    if (selectedFormsts.length === 0) {\n      this.getRange_addLine(this.getRange(), null);\n      selectedFormsts = this.getSelectedElements();\n      if (selectedFormsts.length === 0) return;\n    } // change format class\n\n\n    var toggleClass = this.util.hasClass(target, 'active') ? this.util.removeClass.bind(this.util) : this.util.addClass.bind(this.util);\n\n    for (var i = 0, len = selectedFormsts.length; i < len; i++) {\n      toggleClass(selectedFormsts[i], value);\n    }\n\n    this.submenuOff(); // history stack\n\n    this.history.push(false);\n  }\n};","map":{"version":3,"names":["name","display","add","core","targetElement","context","paragraphStyle","_classList","listDiv","setSubmenu","querySelector","addEventListener","pickUp","bind","querySelectorAll","initMenuTarget","option","options","util","createElement","className","menuLang","lang","menu","defaultList","spaced","class","_class","bordered","neon","paragraphStyles","length","list","i","len","p","attrs","defaultStyle","toLowerCase","innerHTML","on","paragraphContext","paragraphList","currentFormat","getFormatElement","getSelectionNode","hasClass","getAttribute","addClass","removeClass","e","preventDefault","stopPropagation","target","value","test","tagName","parentNode","selectedFormsts","getSelectedElements","getRange_addLine","getRange","toggleClass","submenuOff","history","push"],"sources":["/Users/jirayuyungmeesuk/Desktop/code/client/node_modules/suneditor/src/plugins/submenu/paragraphStyle.js"],"sourcesContent":["/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n'use strict';\n\nexport default {\n    name: 'paragraphStyle',\n    display: 'submenu',\n    add: function (core, targetElement) {\n        const context = core.context;\n        context.paragraphStyle = {\n            _classList: null\n        };\n\n        /** set submenu */\n        let listDiv = this.setSubmenu(core);\n\n        /** add event listeners */\n        listDiv.querySelector('ul').addEventListener('click', this.pickUp.bind(core));\n\n        context.paragraphStyle._classList = listDiv.querySelectorAll('li button');\n\n        /** append target button menu */\n        core.initMenuTarget(this.name, targetElement, listDiv);\n\n        /** empty memory */\n        listDiv = null;\n    },\n\n    setSubmenu: function (core) {\n        const option = core.options;\n        const listDiv = core.util.createElement('DIV');\n        listDiv.className = 'se-submenu se-list-layer se-list-format';\n\n        const menuLang = core.lang.menu;\n        const defaultList = {\n            spaced: {\n                name: menuLang.spaced,\n                class: '__se__p-spaced',\n                _class: ''\n            },\n            bordered: {\n                name: menuLang.bordered,\n                class: '__se__p-bordered',\n                _class: ''\n            },\n            neon: {\n                name: menuLang.neon,\n                class: '__se__p-neon',\n                _class: ''\n            }\n        };\n        const paragraphStyles = !option.paragraphStyles || option.paragraphStyles.length === 0 ? ['spaced', 'bordered', 'neon'] : option.paragraphStyles;\n\n        let list = '<div class=\"se-list-inner\"><ul class=\"se-list-basic\">';\n        for (let i = 0, len = paragraphStyles.length, p, name, attrs, _class; i < len; i++) {\n            p = paragraphStyles[i];\n\n            if (typeof p === 'string') {\n                const defaultStyle = defaultList[p.toLowerCase()];\n                if (!defaultStyle) continue;\n                p = defaultStyle;\n            }\n\n            name = p.name;\n            attrs = p.class ? ' class=\"' + p.class + '\"' : '';\n            _class = p._class;\n\n            list += '<li>' +\n                '<button type=\"button\" class=\"se-btn-list' + (_class ? ' ' + _class: '') + '\" data-value=\"' + p.class + '\" title=\"' + name + '\" aria-label=\"' + name + '\">' +\n                    '<div' + attrs + '>' + name + '</div>' +\n                '</button></li>';\n        }\n        list += '</ul></div>';\n\n        listDiv.innerHTML = list;\n\n        return listDiv;\n    },\n\n     /**\n     * @Override submenu\n     */\n    on: function () {\n        const paragraphContext = this.context.paragraphStyle;\n        const paragraphList = paragraphContext._classList;\n        const currentFormat = this.util.getFormatElement(this.getSelectionNode());\n\n        for (let i = 0, len = paragraphList.length; i < len; i++) {\n            if (this.util.hasClass(currentFormat, paragraphList[i].getAttribute('data-value'))) {\n                this.util.addClass(paragraphList[i], 'active');\n            } else {\n                this.util.removeClass(paragraphList[i], 'active');\n            }\n        }\n    },\n\n    pickUp: function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        let target = e.target;\n        let value = null;\n        \n        while (!/^UL$/i.test(target.tagName)) {\n            value = target.getAttribute('data-value');\n            if (value) break;\n            target = target.parentNode;\n        }\n\n        if (!value) return;\n\n        let selectedFormsts = this.getSelectedElements();\n        if (selectedFormsts.length === 0) {\n            this.getRange_addLine(this.getRange(), null);\n            selectedFormsts = this.getSelectedElements();\n            if (selectedFormsts.length === 0) return;\n        }\n\n        // change format class\n        const toggleClass = this.util.hasClass(target, 'active') ? this.util.removeClass.bind(this.util) : this.util.addClass.bind(this.util);\n        for (let i = 0, len = selectedFormsts.length; i < len; i++) {\n            toggleClass(selectedFormsts[i], value);\n        }\n\n        this.submenuOff();\n\n        // history stack\n        this.history.push(false);\n    }\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}