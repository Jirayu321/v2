{"ast":null,"code":"/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n'use strict';\n\nimport fileBrowser from '../modules/fileBrowser';\nexport default {\n  name: 'imageGallery',\n\n  /**\n   * @description Constructor\n   * @param {Object} core Core object \n   */\n  add: function add(core) {\n    core.addModule([fileBrowser]);\n    var context = core.context;\n    context.imageGallery = {\n      title: core.lang.toolbar.imageGallery,\n      // @Required @Override fileBrowser - File browser window title.\n      url: core.options.imageGalleryUrl,\n      // @Required @Override fileBrowser - File server url.\n      header: core.options.imageGalleryHeader,\n      // @Required @Override fileBrowser - File server http header.\n      listClass: 'se-image-list',\n      // @Required @Override fileBrowser - Class name of list div.\n      itemTemplateHandler: this.drawItems,\n      // @Required @Override fileBrowser - Function that defines the HTML of an file item.\n      selectorHandler: this.setImage.bind(core),\n      // @Required @Override fileBrowser - Function that action when item click.\n      columnSize: 4 // @Option @Override fileBrowser - Number of \"div.se-file-item-column\" to be created (default: 4)\n\n    };\n  },\n\n  /**\n   * @Required @Override fileBrowser\n   * @description Open a file browser.\n   * @param {Function|null} selectorHandler When the function comes as an argument value, it substitutes \"context.selectorHandler\".\n   */\n  open: function open(selectorHandler) {\n    this.plugins.fileBrowser.open.call(this, 'imageGallery', selectorHandler);\n  },\n\n  /**\n   * @Required @Override fileBrowser\n   * @description Define the HTML of the item to be put in \"div.se-file-item-column\".\n   * Format: [\n   *      { src: \"image src\", name: \"name(@option)\", alt: \"image alt(@option)\", tag: \"tag name(@option)\" }\n   * ]\n   * @param {Object} item Item of the response data's array\n   */\n  drawItems: function drawItems(item) {\n    var srcName = item.src.split('/').pop();\n    return '<div class=\"se-file-item-img\"><img src=\"' + (item.thumbnail || item.src) + '\" alt=\"' + (item.alt || srcName) + '\" data-command=\"pick\" data-value=\"' + (item.src || item.thumbnail) + '\">' + '<div class=\"se-file-img-name se-file-name-back\"></div>' + '<div class=\"se-file-img-name __se__img_name\">' + (item.name || srcName) + '</div>' + '</div>';\n  },\n  setImage: function setImage(target) {\n    this.callPlugin('image', function () {\n      var file = {\n        name: target.parentNode.querySelector('.__se__img_name').textContent,\n        size: 0\n      };\n      this.plugins.image.create_image.call(this, target.getAttribute('data-value'), null, this.context.image._origin_w, this.context.image._origin_h, 'none', file, target.alt);\n    }.bind(this), null);\n  }\n};","map":{"version":3,"names":["fileBrowser","name","add","core","addModule","context","imageGallery","title","lang","toolbar","url","options","imageGalleryUrl","header","imageGalleryHeader","listClass","itemTemplateHandler","drawItems","selectorHandler","setImage","bind","columnSize","open","plugins","call","item","srcName","src","split","pop","thumbnail","alt","target","callPlugin","file","parentNode","querySelector","textContent","size","image","create_image","getAttribute","_origin_w","_origin_h"],"sources":["/Users/jirayuyungmeesuk/Desktop/ v2/client/node_modules/suneditor/src/plugins/fileBrowser/imageGallery.js"],"sourcesContent":["/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n'use strict';\n\nimport fileBrowser from '../modules/fileBrowser';\n\nexport default {\n    name: 'imageGallery',\n    /**\n     * @description Constructor\n     * @param {Object} core Core object \n     */\n    add: function (core) {\n        core.addModule([fileBrowser]);\n\n        const context = core.context;\n        context.imageGallery = {\n            title: core.lang.toolbar.imageGallery, // @Required @Override fileBrowser - File browser window title.\n            url: core.options.imageGalleryUrl, // @Required @Override fileBrowser - File server url.\n            header: core.options.imageGalleryHeader, // @Required @Override fileBrowser - File server http header.\n            listClass: 'se-image-list', // @Required @Override fileBrowser - Class name of list div.\n            itemTemplateHandler: this.drawItems, // @Required @Override fileBrowser - Function that defines the HTML of an file item.\n            selectorHandler: this.setImage.bind(core), // @Required @Override fileBrowser - Function that action when item click.\n            columnSize: 4 // @Option @Override fileBrowser - Number of \"div.se-file-item-column\" to be created (default: 4)\n        };\n    },\n    \n    /**\n     * @Required @Override fileBrowser\n     * @description Open a file browser.\n     * @param {Function|null} selectorHandler When the function comes as an argument value, it substitutes \"context.selectorHandler\".\n     */\n    open: function (selectorHandler) {\n        this.plugins.fileBrowser.open.call(this, 'imageGallery', selectorHandler);\n    },\n\n    /**\n     * @Required @Override fileBrowser\n     * @description Define the HTML of the item to be put in \"div.se-file-item-column\".\n     * Format: [\n     *      { src: \"image src\", name: \"name(@option)\", alt: \"image alt(@option)\", tag: \"tag name(@option)\" }\n     * ]\n     * @param {Object} item Item of the response data's array\n     */\n    drawItems: function (item) {\n        const srcName = item.src.split('/').pop();\n        return  '<div class=\"se-file-item-img\"><img src=\"' + (item.thumbnail || item.src) + '\" alt=\"' + (item.alt || srcName) + '\" data-command=\"pick\" data-value=\"' + (item.src || item.thumbnail) + '\">' +\n                    '<div class=\"se-file-img-name se-file-name-back\"></div>' +\n                    '<div class=\"se-file-img-name __se__img_name\">' + (item.name || srcName) + '</div>' +\n                '</div>';\n    },\n\n    setImage: function (target) {\n        this.callPlugin('image', function () {\n            const file = {name: target.parentNode.querySelector('.__se__img_name').textContent, size: 0};\n            this.plugins.image.create_image.call(this, target.getAttribute('data-value'), null, this.context.image._origin_w, this.context.image._origin_h, 'none', file, target.alt);\n        }.bind(this), null);\n    }\n};"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAOA,WAAP,MAAwB,wBAAxB;AAEA,eAAe;EACXC,IAAI,EAAE,cADK;;EAEX;AACJ;AACA;AACA;EACIC,GAAG,EAAE,aAAUC,IAAV,EAAgB;IACjBA,IAAI,CAACC,SAAL,CAAe,CAACJ,WAAD,CAAf;IAEA,IAAMK,OAAO,GAAGF,IAAI,CAACE,OAArB;IACAA,OAAO,CAACC,YAAR,GAAuB;MACnBC,KAAK,EAAEJ,IAAI,CAACK,IAAL,CAAUC,OAAV,CAAkBH,YADN;MACoB;MACvCI,GAAG,EAAEP,IAAI,CAACQ,OAAL,CAAaC,eAFC;MAEgB;MACnCC,MAAM,EAAEV,IAAI,CAACQ,OAAL,CAAaG,kBAHF;MAGsB;MACzCC,SAAS,EAAE,eAJQ;MAIS;MAC5BC,mBAAmB,EAAE,KAAKC,SALP;MAKkB;MACrCC,eAAe,EAAE,KAAKC,QAAL,CAAcC,IAAd,CAAmBjB,IAAnB,CANE;MAMwB;MAC3CkB,UAAU,EAAE,CAPO,CAOL;;IAPK,CAAvB;EASH,CAnBU;;EAqBX;AACJ;AACA;AACA;AACA;EACIC,IAAI,EAAE,cAAUJ,eAAV,EAA2B;IAC7B,KAAKK,OAAL,CAAavB,WAAb,CAAyBsB,IAAzB,CAA8BE,IAA9B,CAAmC,IAAnC,EAAyC,cAAzC,EAAyDN,eAAzD;EACH,CA5BU;;EA8BX;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;EACID,SAAS,EAAE,mBAAUQ,IAAV,EAAgB;IACvB,IAAMC,OAAO,GAAGD,IAAI,CAACE,GAAL,CAASC,KAAT,CAAe,GAAf,EAAoBC,GAApB,EAAhB;IACA,OAAQ,8CAA8CJ,IAAI,CAACK,SAAL,IAAkBL,IAAI,CAACE,GAArE,IAA4E,SAA5E,IAAyFF,IAAI,CAACM,GAAL,IAAYL,OAArG,IAAgH,oCAAhH,IAAwJD,IAAI,CAACE,GAAL,IAAYF,IAAI,CAACK,SAAzK,IAAsL,IAAtL,GACI,wDADJ,GAEI,+CAFJ,IAEuDL,IAAI,CAACxB,IAAL,IAAayB,OAFpE,IAE+E,QAF/E,GAGA,QAHR;EAIH,CA5CU;EA8CXP,QAAQ,EAAE,kBAAUa,MAAV,EAAkB;IACxB,KAAKC,UAAL,CAAgB,OAAhB,EAAyB,YAAY;MACjC,IAAMC,IAAI,GAAG;QAACjC,IAAI,EAAE+B,MAAM,CAACG,UAAP,CAAkBC,aAAlB,CAAgC,iBAAhC,EAAmDC,WAA1D;QAAuEC,IAAI,EAAE;MAA7E,CAAb;MACA,KAAKf,OAAL,CAAagB,KAAb,CAAmBC,YAAnB,CAAgChB,IAAhC,CAAqC,IAArC,EAA2CQ,MAAM,CAACS,YAAP,CAAoB,YAApB,CAA3C,EAA8E,IAA9E,EAAoF,KAAKpC,OAAL,CAAakC,KAAb,CAAmBG,SAAvG,EAAkH,KAAKrC,OAAL,CAAakC,KAAb,CAAmBI,SAArI,EAAgJ,MAAhJ,EAAwJT,IAAxJ,EAA8JF,MAAM,CAACD,GAArK;IACH,CAHwB,CAGvBX,IAHuB,CAGlB,IAHkB,CAAzB,EAGc,IAHd;EAIH;AAnDU,CAAf"},"metadata":{},"sourceType":"module"}