{"ast":null,"code":"import _createForOfIteratorHelper from \"/Users/jirayuyungmeesuk/Desktop/ v2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";\n\n/** These methods may break the react binding if called directly */\nvar skipMethods = ['setMaxBounds', 'setMinZoom', 'setMaxZoom', 'setMinPitch', 'setMaxPitch', 'setRenderWorldCopies', 'setProjection', 'setStyle', 'addSource', 'removeSource', 'addLayer', 'removeLayer', 'setLayerZoomRange', 'setFilter', 'setPaintProperty', 'setLayoutProperty', 'setLight', 'setTerrain', 'setFog', 'remove'];\nexport default function createRef(mapInstance, mapLib) {\n  if (!mapInstance) {\n    return null;\n  }\n\n  var map = mapInstance.map;\n  var result = {\n    getMap: function getMap() {\n      return map;\n    },\n    // Overwrite getters to use our shadow transform\n    getCenter: function getCenter() {\n      return mapInstance.transform.center;\n    },\n    getZoom: function getZoom() {\n      return mapInstance.transform.zoom;\n    },\n    getBearing: function getBearing() {\n      return mapInstance.transform.bearing;\n    },\n    getPitch: function getPitch() {\n      return mapInstance.transform.pitch;\n    },\n    getPadding: function getPadding() {\n      return mapInstance.transform.padding;\n    },\n    getBounds: function getBounds() {\n      return mapInstance.transform.getBounds();\n    },\n    project: function project(lnglat) {\n      return mapInstance.transform.locationPoint(mapLib.LngLat.convert(lnglat));\n    },\n    unproject: function unproject(point) {\n      return mapInstance.transform.pointLocation(mapLib.Point.convert(point));\n    },\n    queryTerrainElevation: function queryTerrainElevation(lnglat, options) {\n      // @ts-ignore transform not defined\n      var tr = map.transform; // @ts-ignore transform not defined\n\n      map.transform = mapInstance.transform;\n      var result = map.queryTerrainElevation(lnglat, options); // @ts-ignore transform not defined\n\n      map.transform = tr;\n      return result;\n    }\n  };\n\n  var _iterator = _createForOfIteratorHelper(getMethodNames(map)),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var key = _step.value;\n\n      // @ts-expect-error\n      if (!(key in result) && !skipMethods.includes(key)) {\n        result[key] = map[key].bind(map);\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  return result;\n}\n\nfunction getMethodNames(obj) {\n  var result = new Set();\n  var proto = obj;\n\n  while (proto) {\n    var _iterator2 = _createForOfIteratorHelper(Object.getOwnPropertyNames(proto)),\n        _step2;\n\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var key = _step2.value;\n\n        if (key[0] !== '_' && typeof obj[key] === 'function' && key !== 'fire' && key !== 'setEventedParent') {\n          result.add(key);\n        }\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Array.from(result);\n}","map":{"version":3,"sources":["../../../src/mapbox/create-ref.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["/** These methods may break the react binding if called directly */\nconst skipMethods = [\n    'setMaxBounds',\n    'setMinZoom',\n    'setMaxZoom',\n    'setMinPitch',\n    'setMaxPitch',\n    'setRenderWorldCopies',\n    'setProjection',\n    'setStyle',\n    'addSource',\n    'removeSource',\n    'addLayer',\n    'removeLayer',\n    'setLayerZoomRange',\n    'setFilter',\n    'setPaintProperty',\n    'setLayoutProperty',\n    'setLight',\n    'setTerrain',\n    'setFog',\n    'remove'\n];\nexport default function createRef(mapInstance, mapLib) {\n    if (!mapInstance) {\n        return null;\n    }\n    const map = mapInstance.map;\n    const result = {\n        getMap: () => map,\n        // Overwrite getters to use our shadow transform\n        getCenter: () => mapInstance.transform.center,\n        getZoom: () => mapInstance.transform.zoom,\n        getBearing: () => mapInstance.transform.bearing,\n        getPitch: () => mapInstance.transform.pitch,\n        getPadding: () => mapInstance.transform.padding,\n        getBounds: () => mapInstance.transform.getBounds(),\n        project: (lnglat) => {\n            return mapInstance.transform.locationPoint(mapLib.LngLat.convert(lnglat));\n        },\n        unproject: (point) => {\n            return mapInstance.transform.pointLocation(mapLib.Point.convert(point));\n        },\n        queryTerrainElevation: (lnglat, options) => {\n            // @ts-ignore transform not defined\n            const tr = map.transform;\n            // @ts-ignore transform not defined\n            map.transform = mapInstance.transform;\n            const result = map.queryTerrainElevation(lnglat, options);\n            // @ts-ignore transform not defined\n            map.transform = tr;\n            return result;\n        }\n    };\n    for (const key of getMethodNames(map)) {\n        // @ts-expect-error\n        if (!(key in result) && !skipMethods.includes(key)) {\n            result[key] = map[key].bind(map);\n        }\n    }\n    return result;\n}\nfunction getMethodNames(obj) {\n    const result = new Set();\n    let proto = obj;\n    while (proto) {\n        for (const key of Object.getOwnPropertyNames(proto)) {\n            if (key[0] !== '_' &&\n                typeof obj[key] === 'function' &&\n                key !== 'fire' &&\n                key !== 'setEventedParent') {\n                result.add(key);\n            }\n        }\n        proto = Object.getPrototypeOf(proto);\n    }\n    return Array.from(result);\n}\n//# sourceMappingURL=create-ref.js.map"]},"metadata":{},"sourceType":"module"}