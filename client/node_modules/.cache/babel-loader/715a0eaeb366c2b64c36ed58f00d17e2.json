{"ast":null,"code":"/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n'use strict';\n\n(function (global, factory) {\n  if (typeof module === 'object' && typeof module.exports === 'object') {\n    module.exports = global.document ? factory(global, true) : function (w) {\n      if (!w.document) {\n        throw new Error('SUNEDITOR_MODULES a window with a document');\n      }\n\n      return factory(w);\n    };\n  } else {\n    factory(global);\n  }\n})(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n  const dialog = {\n    name: 'dialog',\n\n    /**\n     * @description Constructor\n     * @param {Object} core Core object \n     */\n    add: function (core) {\n      const context = core.context;\n      context.dialog = {\n        kind: '',\n        updateModal: false,\n        _closeSignal: false\n      };\n      /** dialog */\n\n      let dialog_div = core.util.createElement('DIV');\n      dialog_div.className = 'se-dialog sun-editor-common';\n      let dialog_back = core.util.createElement('DIV');\n      dialog_back.className = 'se-dialog-back';\n      dialog_back.style.display = 'none';\n      let dialog_area = core.util.createElement('DIV');\n      dialog_area.className = 'se-dialog-inner';\n      dialog_area.style.display = 'none';\n      dialog_div.appendChild(dialog_back);\n      dialog_div.appendChild(dialog_area);\n      context.dialog.modalArea = dialog_div;\n      context.dialog.back = dialog_back;\n      context.dialog.modal = dialog_area;\n      /** add event listeners */\n\n      context.dialog.modal.addEventListener('mousedown', this._onMouseDown_dialog.bind(core));\n      context.dialog.modal.addEventListener('click', this._onClick_dialog.bind(core));\n      /** append html */\n\n      context.element.relative.appendChild(dialog_div);\n      /** empty memory */\n\n      dialog_div = null, dialog_back = null, dialog_area = null;\n    },\n\n    /**\n     * @description Event to control the behavior of closing the dialog\n     * @param {MouseEvent} e Event object\n     * @private\n     */\n    _onMouseDown_dialog: function (e) {\n      if (/se-dialog-inner/.test(e.target.className)) {\n        this.context.dialog._closeSignal = true;\n      } else {\n        this.context.dialog._closeSignal = false;\n      }\n    },\n\n    /**\n     * @description Event to close the window when the outside area of the dialog or close button is click\n     * @param {MouseEvent} e Event object\n     * @private\n     */\n    _onClick_dialog: function (e) {\n      if (/close/.test(e.target.getAttribute('data-command')) || this.context.dialog._closeSignal) {\n        this.plugins.dialog.close.call(this);\n      }\n    },\n\n    /**\n     * @description Open a Dialog plugin\n     * @param {String} kind Dialog plugin name\n     * @param {Boolean} update Whether it will open for update ('image' === this.currentControllerName)\n     */\n    open: function (kind, update) {\n      if (this.modalForm) return false;\n\n      if (this.plugins.dialog._bindClose) {\n        this._d.removeEventListener('keydown', this.plugins.dialog._bindClose);\n\n        this.plugins.dialog._bindClose = null;\n      }\n\n      this.plugins.dialog._bindClose = function (e) {\n        if (!/27/.test(e.keyCode)) return;\n        this.plugins.dialog.close.call(this);\n      }.bind(this);\n\n      this._d.addEventListener('keydown', this.plugins.dialog._bindClose);\n\n      this.context.dialog.updateModal = update;\n\n      if (this.options.popupDisplay === 'full') {\n        this.context.dialog.modalArea.style.position = 'fixed';\n      } else {\n        this.context.dialog.modalArea.style.position = 'absolute';\n      }\n\n      this.context.dialog.kind = kind;\n      this.modalForm = this.context[kind].modal;\n      const focusElement = this.context[kind].focusElement;\n      if (typeof this.plugins[kind].on === 'function') this.plugins[kind].on.call(this, update);\n      this.context.dialog.modalArea.style.display = 'block';\n      this.context.dialog.back.style.display = 'block';\n      this.context.dialog.modal.style.display = 'block';\n      this.modalForm.style.display = 'block';\n      if (focusElement) focusElement.focus();\n    },\n    _bindClose: null,\n\n    /**\n     * @description Close a Dialog plugin\n     * The plugin's \"init\" method is called.\n     */\n    close: function () {\n      if (this.plugins.dialog._bindClose) {\n        this._d.removeEventListener('keydown', this.plugins.dialog._bindClose);\n\n        this.plugins.dialog._bindClose = null;\n      }\n\n      const kind = this.context.dialog.kind;\n      this.modalForm.style.display = 'none';\n      this.context.dialog.back.style.display = 'none';\n      this.context.dialog.modalArea.style.display = 'none';\n      this.context.dialog.updateModal = false;\n      if (typeof this.plugins[kind].init === 'function') this.plugins[kind].init.call(this);\n      this.context.dialog.kind = '';\n      this.modalForm = null;\n      this.focus();\n    }\n  };\n\n  if (typeof noGlobal === typeof undefined) {\n    if (!window.SUNEDITOR_MODULES) {\n      Object.defineProperty(window, 'SUNEDITOR_MODULES', {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: {}\n      });\n    }\n\n    Object.defineProperty(window.SUNEDITOR_MODULES, 'dialog', {\n      enumerable: true,\n      writable: false,\n      configurable: false,\n      value: dialog\n    });\n  }\n\n  return dialog;\n});","map":{"version":3,"names":["global","factory","module","exports","document","w","Error","window","noGlobal","dialog","name","add","core","context","kind","updateModal","_closeSignal","dialog_div","util","createElement","className","dialog_back","style","display","dialog_area","appendChild","modalArea","back","modal","addEventListener","_onMouseDown_dialog","bind","_onClick_dialog","element","relative","e","test","target","getAttribute","plugins","close","call","open","update","modalForm","_bindClose","_d","removeEventListener","keyCode","options","popupDisplay","position","focusElement","on","focus","init","undefined","SUNEDITOR_MODULES","Object","defineProperty","enumerable","writable","configurable","value"],"sources":["/Users/jirayuyungmeesuk/Desktop/code/client/node_modules/suneditor/src/plugins/modules/dialog.js"],"sourcesContent":["/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n'use strict';\n\n(function (global, factory) {\n    if (typeof module === 'object' && typeof module.exports === 'object') {\n        module.exports = global.document ?\n            factory(global, true) :\n            function (w) {\n                if (!w.document) {\n                    throw new Error('SUNEDITOR_MODULES a window with a document');\n                }\n                return factory(w);\n            };\n    } else {\n        factory(global);\n    }\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const dialog = {\n        name: 'dialog',\n        /**\n         * @description Constructor\n         * @param {Object} core Core object \n         */\n        add: function (core) {\n            const context = core.context;\n            context.dialog = {\n                kind: '',\n                updateModal: false,\n                _closeSignal: false\n            };\n\n            /** dialog */\n            let dialog_div = core.util.createElement('DIV');\n            dialog_div.className = 'se-dialog sun-editor-common';\n\n            let dialog_back = core.util.createElement('DIV');\n            dialog_back.className = 'se-dialog-back';\n            dialog_back.style.display = 'none';\n\n            let dialog_area = core.util.createElement('DIV');\n            dialog_area.className = 'se-dialog-inner';\n            dialog_area.style.display = 'none';\n\n            dialog_div.appendChild(dialog_back);\n            dialog_div.appendChild(dialog_area);\n\n            context.dialog.modalArea = dialog_div;\n            context.dialog.back = dialog_back;\n            context.dialog.modal = dialog_area;\n\n            /** add event listeners */\n            context.dialog.modal.addEventListener('mousedown', this._onMouseDown_dialog.bind(core));\n            context.dialog.modal.addEventListener('click', this._onClick_dialog.bind(core));\n            \n            /** append html */\n            context.element.relative.appendChild(dialog_div);\n            \n            /** empty memory */\n            dialog_div = null, dialog_back = null, dialog_area = null;\n        },\n\n        /**\n         * @description Event to control the behavior of closing the dialog\n         * @param {MouseEvent} e Event object\n         * @private\n         */\n        _onMouseDown_dialog: function (e) {\n            if (/se-dialog-inner/.test(e.target.className)) {\n                this.context.dialog._closeSignal = true;\n            } else {\n                this.context.dialog._closeSignal = false;\n            }\n        },\n\n        /**\n         * @description Event to close the window when the outside area of the dialog or close button is click\n         * @param {MouseEvent} e Event object\n         * @private\n         */\n        _onClick_dialog: function (e) {\n            if (/close/.test(e.target.getAttribute('data-command')) || this.context.dialog._closeSignal) {\n                this.plugins.dialog.close.call(this);\n            }\n        },\n\n        /**\n         * @description Open a Dialog plugin\n         * @param {String} kind Dialog plugin name\n         * @param {Boolean} update Whether it will open for update ('image' === this.currentControllerName)\n         */\n        open: function (kind, update)  {\n            if (this.modalForm) return false;\n            if (this.plugins.dialog._bindClose) {\n                this._d.removeEventListener('keydown', this.plugins.dialog._bindClose);\n                this.plugins.dialog._bindClose = null;\n            }\n\n            this.plugins.dialog._bindClose = function (e) {\n                if (!/27/.test(e.keyCode)) return;\n                this.plugins.dialog.close.call(this);\n            }.bind(this);\n            this._d.addEventListener('keydown', this.plugins.dialog._bindClose);\n\n            this.context.dialog.updateModal = update;\n\n            if (this.options.popupDisplay === 'full') {\n                this.context.dialog.modalArea.style.position = 'fixed';\n            } else {\n                this.context.dialog.modalArea.style.position = 'absolute';\n            }\n\n            this.context.dialog.kind = kind;\n            this.modalForm = this.context[kind].modal;\n            const focusElement = this.context[kind].focusElement;\n\n            if (typeof this.plugins[kind].on === 'function') this.plugins[kind].on.call(this, update);\n\n            this.context.dialog.modalArea.style.display = 'block';\n            this.context.dialog.back.style.display = 'block';\n            this.context.dialog.modal.style.display = 'block';\n            this.modalForm.style.display = 'block';\n\n            if (focusElement) focusElement.focus();\n        },\n\n        _bindClose: null,\n        \n        /**\n         * @description Close a Dialog plugin\n         * The plugin's \"init\" method is called.\n         */\n        close: function () {\n            if (this.plugins.dialog._bindClose) {\n                this._d.removeEventListener('keydown', this.plugins.dialog._bindClose);\n                this.plugins.dialog._bindClose = null;\n            }\n\n            const kind = this.context.dialog.kind;\n            this.modalForm.style.display = 'none';\n            this.context.dialog.back.style.display = 'none';\n            this.context.dialog.modalArea.style.display = 'none';\n            this.context.dialog.updateModal = false;\n            if (typeof this.plugins[kind].init === 'function') this.plugins[kind].init.call(this);\n            this.context.dialog.kind = '';\n            this.modalForm = null;\n            this.focus();\n        }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n        if (!window.SUNEDITOR_MODULES) {\n            Object.defineProperty(window, 'SUNEDITOR_MODULES', {\n                enumerable: true,\n                writable: false,\n                configurable: false,\n                value: {}\n            });\n        }\n\n        Object.defineProperty(window.SUNEDITOR_MODULES, 'dialog', {\n            enumerable: true,\n            writable: false,\n            configurable: false,\n            value: dialog\n        });\n    }\n\n    return dialog;\n}));"],"mappings":"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"},"metadata":{},"sourceType":"script"}