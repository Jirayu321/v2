{"ast":null,"code":"/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n'use strict';\n\nexport default {\n  name: 'textStyle',\n  display: 'submenu',\n  add: function add(core, targetElement) {\n    var context = core.context;\n    context.textStyle = {\n      _styleList: null\n    };\n    /** set submenu */\n\n    var listDiv = this.setSubmenu(core);\n    var listUl = listDiv.querySelector('ul');\n    /** add event listeners */\n\n    listUl.addEventListener('click', this.pickup.bind(core));\n    context.textStyle._styleList = listDiv.querySelectorAll('li button');\n    /** append target button menu */\n\n    core.initMenuTarget(this.name, targetElement, listDiv);\n    /** empty memory */\n\n    listDiv = null, listUl = null;\n  },\n  setSubmenu: function setSubmenu(core) {\n    var option = core.options;\n    var listDiv = core.util.createElement('DIV');\n    listDiv.className = 'se-submenu se-list-layer se-list-format';\n    var defaultList = {\n      code: {\n        name: core.lang.menu.code,\n        class: '__se__t-code',\n        tag: 'code'\n      },\n      translucent: {\n        name: core.lang.menu.translucent,\n        style: 'opacity: 0.5;',\n        tag: 'span'\n      },\n      shadow: {\n        name: core.lang.menu.shadow,\n        class: '__se__t-shadow',\n        tag: 'span'\n      }\n    };\n    var styleList = !option.textStyles ? core._w.Object.keys(defaultList) : option.textStyles;\n    var list = '<div class=\"se-list-inner\"><ul class=\"se-list-basic\">';\n\n    for (var i = 0, len = styleList.length, t, tag, name, attrs, command, value, _class; i < len; i++) {\n      t = styleList[i];\n      attrs = '', value = '', command = [];\n\n      if (typeof t === 'string') {\n        var defaultStyle = defaultList[t.toLowerCase()];\n        if (!defaultStyle) continue;\n        t = defaultStyle;\n      }\n\n      name = t.name;\n      tag = t.tag || 'span';\n      _class = t._class;\n\n      if (t.style) {\n        attrs += ' style=\"' + t.style + '\"';\n        value += t.style.replace(/:[^;]+(;|$)\\s*/g, ',');\n        command.push('style');\n      }\n\n      if (t.class) {\n        attrs += ' class=\"' + t.class + '\"';\n        value += '.' + t.class.trim().replace(/\\s+/g, ',.');\n        command.push('class');\n      }\n\n      value = value.replace(/,$/, '');\n      list += '<li>' + '<button type=\"button\" class=\"se-btn-list' + (_class ? ' ' + _class : '') + '\" data-command=\"' + tag + '\" data-value=\"' + value + '\" title=\"' + name + '\" aria-label=\"' + name + '\">' + '<' + tag + attrs + '>' + name + '</' + tag + '>' + '</button></li>';\n    }\n\n    list += '</ul></div>';\n    listDiv.innerHTML = list;\n    return listDiv;\n  },\n\n  /**\n  * @Override submenu\n  */\n  on: function on() {\n    var util = this.util;\n    var textStyleContext = this.context.textStyle;\n    var styleButtonList = textStyleContext._styleList;\n    var selectionNode = this.getSelectionNode();\n\n    for (var i = 0, len = styleButtonList.length, btn, data, active; i < len; i++) {\n      btn = styleButtonList[i];\n      data = btn.getAttribute('data-value').split(',');\n\n      for (var v = 0, node, value; v < data.length; v++) {\n        node = selectionNode;\n        active = false;\n\n        while (node && !util.isFormatElement(node) && !util.isComponent(node)) {\n          if (node.nodeName.toLowerCase() === btn.getAttribute('data-command').toLowerCase()) {\n            value = data[v];\n\n            if (/^\\./.test(value) ? util.hasClass(node, value.replace(/^\\./, '')) : !!node.style[value]) {\n              active = true;\n              break;\n            }\n          }\n\n          node = node.parentNode;\n        }\n\n        if (!active) break;\n      }\n\n      active ? util.addClass(btn, 'active') : util.removeClass(btn, 'active');\n    }\n  },\n  pickup: function pickup(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    var target = e.target;\n    var command = null,\n        tag = null;\n\n    while (!command && !/UL/i.test(target.tagName)) {\n      command = target.getAttribute('data-command');\n\n      if (command) {\n        tag = target.firstChild;\n        break;\n      }\n\n      target = target.parentNode;\n    }\n\n    if (!command) return;\n    var checkStyles = tag.style.cssText.replace(/:.+(;|$)/g, ',').split(',');\n    checkStyles.pop();\n    var classes = tag.classList;\n\n    for (var i = 0, len = classes.length; i < len; i++) {\n      checkStyles.push('.' + classes[i]);\n    }\n\n    var newNode = this.util.hasClass(target, 'active') ? null : tag.cloneNode(false);\n    var removeNodes = newNode ? null : [tag.nodeName];\n    this.nodeChange(newNode, checkStyles, removeNodes, true);\n    this.submenuOff();\n  }\n};","map":{"version":3,"names":["name","display","add","core","targetElement","context","textStyle","_styleList","listDiv","setSubmenu","listUl","querySelector","addEventListener","pickup","bind","querySelectorAll","initMenuTarget","option","options","util","createElement","className","defaultList","code","lang","menu","class","tag","translucent","style","shadow","styleList","textStyles","_w","Object","keys","list","i","len","length","t","attrs","command","value","_class","defaultStyle","toLowerCase","replace","push","trim","innerHTML","on","textStyleContext","styleButtonList","selectionNode","getSelectionNode","btn","data","active","getAttribute","split","v","node","isFormatElement","isComponent","nodeName","test","hasClass","parentNode","addClass","removeClass","e","preventDefault","stopPropagation","target","tagName","firstChild","checkStyles","cssText","pop","classes","classList","newNode","cloneNode","removeNodes","nodeChange","submenuOff"],"sources":["/Users/jirayuyungmeesuk/Desktop/ v2/client/node_modules/suneditor/src/plugins/submenu/textStyle.js"],"sourcesContent":["/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n'use strict';\n\nexport default {\n    name: 'textStyle',\n    display: 'submenu',\n    add: function (core, targetElement) {\n        const context = core.context;\n        context.textStyle = {\n            _styleList: null\n        };\n\n        /** set submenu */\n        let listDiv = this.setSubmenu(core);\n        let listUl = listDiv.querySelector('ul');\n\n        /** add event listeners */\n        listUl.addEventListener('click', this.pickup.bind(core));\n\n        context.textStyle._styleList = listDiv.querySelectorAll('li button');\n\n        /** append target button menu */\n        core.initMenuTarget(this.name, targetElement, listDiv);\n\n        /** empty memory */\n        listDiv = null, listUl = null;\n    },\n\n    setSubmenu: function (core) {\n        const option = core.options;\n        const listDiv = core.util.createElement('DIV');\n        listDiv.className = 'se-submenu se-list-layer se-list-format';\n\n        const defaultList = {\n            code: {\n                name: core.lang.menu.code,\n                class: '__se__t-code',\n                tag: 'code',\n            },\n            translucent: {\n                name: core.lang.menu.translucent,\n                style: 'opacity: 0.5;',\n                tag: 'span',\n            },\n            shadow: {\n                name: core.lang.menu.shadow,\n                class: '__se__t-shadow',\n                tag: 'span',\n            }\n        };\n        const styleList = !option.textStyles ? core._w.Object.keys(defaultList) : option.textStyles;\n\n        let list = '<div class=\"se-list-inner\"><ul class=\"se-list-basic\">';\n        for (let i = 0, len = styleList.length, t, tag, name, attrs, command, value, _class; i < len; i++) {\n            t = styleList[i];\n            attrs = '', value = '', command = [];\n\n            if (typeof t === 'string') {\n                const defaultStyle = defaultList[t.toLowerCase()];\n                if (!defaultStyle) continue;\n                t = defaultStyle;\n            }\n\n            name = t.name;\n            tag = t.tag || 'span';\n            _class = t._class;\n\n            if (t.style) {\n                attrs += ' style=\"' + t.style + '\"';\n                value += t.style.replace(/:[^;]+(;|$)\\s*/g, ',');\n                command.push('style');\n            }\n            if (t.class) {\n                attrs += ' class=\"' + t.class + '\"';\n                value += '.' + t.class.trim().replace(/\\s+/g, ',.');\n                command.push('class');\n            }\n\n            value = value.replace(/,$/, '');\n\n            list += '<li>' +\n                '<button type=\"button\" class=\"se-btn-list' + (_class ? ' ' + _class: '') + '\" data-command=\"' + tag + '\" data-value=\"' + value + '\" title=\"' + name + '\" aria-label=\"' + name + '\">' +\n                    '<' + tag + attrs + '>' + name +  '</' + tag + '>' +\n                '</button></li>';\n        }\n        list += '</ul></div>';\n\n        listDiv.innerHTML = list;\n\n        return listDiv;\n    },\n\n     /**\n     * @Override submenu\n     */\n    on: function () {\n        const util = this.util;\n        const textStyleContext = this.context.textStyle;\n        const styleButtonList = textStyleContext._styleList;\n        const selectionNode = this.getSelectionNode();\n\n        for (let i = 0, len = styleButtonList.length, btn, data, active; i < len; i++) {\n            btn = styleButtonList[i];\n            data = btn.getAttribute('data-value').split(',');\n            \n            for (let v = 0, node, value; v < data.length; v++) {\n                node = selectionNode;\n                active = false;\n                \n                while (node && !util.isFormatElement(node) && !util.isComponent(node)) {\n                    if (node.nodeName.toLowerCase() === btn.getAttribute('data-command').toLowerCase()) {\n                        value = data[v];\n                        if (/^\\./.test(value) ? util.hasClass(node, value.replace(/^\\./, '')) : !!node.style[value]) {\n                            active = true;\n                            break;\n                        }\n                    }\n                    node = node.parentNode;\n                }\n\n                if (!active) break;\n            }\n\n            active ? util.addClass(btn, 'active') : util.removeClass(btn, 'active');\n        }\n\n    },\n\n    pickup: function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        let target = e.target;\n        let command = null, tag = null;\n        \n        while (!command && !/UL/i.test(target.tagName)) {\n            command = target.getAttribute('data-command');\n            if (command) {\n                tag = target.firstChild;\n                break;\n            }\n            target = target.parentNode;\n        }\n\n        if (!command) return;\n\n        const checkStyles = tag.style.cssText.replace(/:.+(;|$)/g, ',').split(',');\n        checkStyles.pop();\n\n        const classes = tag.classList;\n        for (let i = 0, len = classes.length; i < len; i++) {\n            checkStyles.push('.' + classes[i]);\n        }\n\n        const newNode = this.util.hasClass(target, 'active') ? null : tag.cloneNode(false);\n        const removeNodes = newNode ? null : [tag.nodeName];\n        this.nodeChange(newNode, checkStyles, removeNodes, true);\n\n        this.submenuOff();\n    }\n};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAe;EACXA,IAAI,EAAE,WADK;EAEXC,OAAO,EAAE,SAFE;EAGXC,GAAG,EAAE,aAAUC,IAAV,EAAgBC,aAAhB,EAA+B;IAChC,IAAMC,OAAO,GAAGF,IAAI,CAACE,OAArB;IACAA,OAAO,CAACC,SAAR,GAAoB;MAChBC,UAAU,EAAE;IADI,CAApB;IAIA;;IACA,IAAIC,OAAO,GAAG,KAAKC,UAAL,CAAgBN,IAAhB,CAAd;IACA,IAAIO,MAAM,GAAGF,OAAO,CAACG,aAAR,CAAsB,IAAtB,CAAb;IAEA;;IACAD,MAAM,CAACE,gBAAP,CAAwB,OAAxB,EAAiC,KAAKC,MAAL,CAAYC,IAAZ,CAAiBX,IAAjB,CAAjC;IAEAE,OAAO,CAACC,SAAR,CAAkBC,UAAlB,GAA+BC,OAAO,CAACO,gBAAR,CAAyB,WAAzB,CAA/B;IAEA;;IACAZ,IAAI,CAACa,cAAL,CAAoB,KAAKhB,IAAzB,EAA+BI,aAA/B,EAA8CI,OAA9C;IAEA;;IACAA,OAAO,GAAG,IAAV,EAAgBE,MAAM,GAAG,IAAzB;EACH,CAvBU;EAyBXD,UAAU,EAAE,oBAAUN,IAAV,EAAgB;IACxB,IAAMc,MAAM,GAAGd,IAAI,CAACe,OAApB;IACA,IAAMV,OAAO,GAAGL,IAAI,CAACgB,IAAL,CAAUC,aAAV,CAAwB,KAAxB,CAAhB;IACAZ,OAAO,CAACa,SAAR,GAAoB,yCAApB;IAEA,IAAMC,WAAW,GAAG;MAChBC,IAAI,EAAE;QACFvB,IAAI,EAAEG,IAAI,CAACqB,IAAL,CAAUC,IAAV,CAAeF,IADnB;QAEFG,KAAK,EAAE,cAFL;QAGFC,GAAG,EAAE;MAHH,CADU;MAMhBC,WAAW,EAAE;QACT5B,IAAI,EAAEG,IAAI,CAACqB,IAAL,CAAUC,IAAV,CAAeG,WADZ;QAETC,KAAK,EAAE,eAFE;QAGTF,GAAG,EAAE;MAHI,CANG;MAWhBG,MAAM,EAAE;QACJ9B,IAAI,EAAEG,IAAI,CAACqB,IAAL,CAAUC,IAAV,CAAeK,MADjB;QAEJJ,KAAK,EAAE,gBAFH;QAGJC,GAAG,EAAE;MAHD;IAXQ,CAApB;IAiBA,IAAMI,SAAS,GAAG,CAACd,MAAM,CAACe,UAAR,GAAqB7B,IAAI,CAAC8B,EAAL,CAAQC,MAAR,CAAeC,IAAf,CAAoBb,WAApB,CAArB,GAAwDL,MAAM,CAACe,UAAjF;IAEA,IAAII,IAAI,GAAG,uDAAX;;IACA,KAAK,IAAIC,CAAC,GAAG,CAAR,EAAWC,GAAG,GAAGP,SAAS,CAACQ,MAA3B,EAAmCC,CAAnC,EAAsCb,GAAtC,EAA2C3B,IAA3C,EAAiDyC,KAAjD,EAAwDC,OAAxD,EAAiEC,KAAjE,EAAwEC,MAA7E,EAAqFP,CAAC,GAAGC,GAAzF,EAA8FD,CAAC,EAA/F,EAAmG;MAC/FG,CAAC,GAAGT,SAAS,CAACM,CAAD,CAAb;MACAI,KAAK,GAAG,EAAR,EAAYE,KAAK,GAAG,EAApB,EAAwBD,OAAO,GAAG,EAAlC;;MAEA,IAAI,OAAOF,CAAP,KAAa,QAAjB,EAA2B;QACvB,IAAMK,YAAY,GAAGvB,WAAW,CAACkB,CAAC,CAACM,WAAF,EAAD,CAAhC;QACA,IAAI,CAACD,YAAL,EAAmB;QACnBL,CAAC,GAAGK,YAAJ;MACH;;MAED7C,IAAI,GAAGwC,CAAC,CAACxC,IAAT;MACA2B,GAAG,GAAGa,CAAC,CAACb,GAAF,IAAS,MAAf;MACAiB,MAAM,GAAGJ,CAAC,CAACI,MAAX;;MAEA,IAAIJ,CAAC,CAACX,KAAN,EAAa;QACTY,KAAK,IAAI,aAAaD,CAAC,CAACX,KAAf,GAAuB,GAAhC;QACAc,KAAK,IAAIH,CAAC,CAACX,KAAF,CAAQkB,OAAR,CAAgB,iBAAhB,EAAmC,GAAnC,CAAT;QACAL,OAAO,CAACM,IAAR,CAAa,OAAb;MACH;;MACD,IAAIR,CAAC,CAACd,KAAN,EAAa;QACTe,KAAK,IAAI,aAAaD,CAAC,CAACd,KAAf,GAAuB,GAAhC;QACAiB,KAAK,IAAI,MAAMH,CAAC,CAACd,KAAF,CAAQuB,IAAR,GAAeF,OAAf,CAAuB,MAAvB,EAA+B,IAA/B,CAAf;QACAL,OAAO,CAACM,IAAR,CAAa,OAAb;MACH;;MAEDL,KAAK,GAAGA,KAAK,CAACI,OAAN,CAAc,IAAd,EAAoB,EAApB,CAAR;MAEAX,IAAI,IAAI,SACJ,0CADI,IAC0CQ,MAAM,GAAG,MAAMA,MAAT,GAAiB,EADjE,IACuE,kBADvE,GAC4FjB,GAD5F,GACkG,gBADlG,GACqHgB,KADrH,GAC6H,WAD7H,GAC2I3C,IAD3I,GACkJ,gBADlJ,GACqKA,IADrK,GAC4K,IAD5K,GAEA,GAFA,GAEM2B,GAFN,GAEYc,KAFZ,GAEoB,GAFpB,GAE0BzC,IAF1B,GAEkC,IAFlC,GAEyC2B,GAFzC,GAE+C,GAF/C,GAGJ,gBAHJ;IAIH;;IACDS,IAAI,IAAI,aAAR;IAEA5B,OAAO,CAAC0C,SAAR,GAAoBd,IAApB;IAEA,OAAO5B,OAAP;EACH,CAvFU;;EAyFV;AACL;AACA;EACI2C,EAAE,EAAE,cAAY;IACZ,IAAMhC,IAAI,GAAG,KAAKA,IAAlB;IACA,IAAMiC,gBAAgB,GAAG,KAAK/C,OAAL,CAAaC,SAAtC;IACA,IAAM+C,eAAe,GAAGD,gBAAgB,CAAC7C,UAAzC;IACA,IAAM+C,aAAa,GAAG,KAAKC,gBAAL,EAAtB;;IAEA,KAAK,IAAIlB,CAAC,GAAG,CAAR,EAAWC,GAAG,GAAGe,eAAe,CAACd,MAAjC,EAAyCiB,GAAzC,EAA8CC,IAA9C,EAAoDC,MAAzD,EAAiErB,CAAC,GAAGC,GAArE,EAA0ED,CAAC,EAA3E,EAA+E;MAC3EmB,GAAG,GAAGH,eAAe,CAAChB,CAAD,CAArB;MACAoB,IAAI,GAAGD,GAAG,CAACG,YAAJ,CAAiB,YAAjB,EAA+BC,KAA/B,CAAqC,GAArC,CAAP;;MAEA,KAAK,IAAIC,CAAC,GAAG,CAAR,EAAWC,IAAX,EAAiBnB,KAAtB,EAA6BkB,CAAC,GAAGJ,IAAI,CAAClB,MAAtC,EAA8CsB,CAAC,EAA/C,EAAmD;QAC/CC,IAAI,GAAGR,aAAP;QACAI,MAAM,GAAG,KAAT;;QAEA,OAAOI,IAAI,IAAI,CAAC3C,IAAI,CAAC4C,eAAL,CAAqBD,IAArB,CAAT,IAAuC,CAAC3C,IAAI,CAAC6C,WAAL,CAAiBF,IAAjB,CAA/C,EAAuE;UACnE,IAAIA,IAAI,CAACG,QAAL,CAAcnB,WAAd,OAAgCU,GAAG,CAACG,YAAJ,CAAiB,cAAjB,EAAiCb,WAAjC,EAApC,EAAoF;YAChFH,KAAK,GAAGc,IAAI,CAACI,CAAD,CAAZ;;YACA,IAAI,MAAMK,IAAN,CAAWvB,KAAX,IAAoBxB,IAAI,CAACgD,QAAL,CAAcL,IAAd,EAAoBnB,KAAK,CAACI,OAAN,CAAc,KAAd,EAAqB,EAArB,CAApB,CAApB,GAAoE,CAAC,CAACe,IAAI,CAACjC,KAAL,CAAWc,KAAX,CAA1E,EAA6F;cACzFe,MAAM,GAAG,IAAT;cACA;YACH;UACJ;;UACDI,IAAI,GAAGA,IAAI,CAACM,UAAZ;QACH;;QAED,IAAI,CAACV,MAAL,EAAa;MAChB;;MAEDA,MAAM,GAAGvC,IAAI,CAACkD,QAAL,CAAcb,GAAd,EAAmB,QAAnB,CAAH,GAAkCrC,IAAI,CAACmD,WAAL,CAAiBd,GAAjB,EAAsB,QAAtB,CAAxC;IACH;EAEJ,CA3HU;EA6HX3C,MAAM,EAAE,gBAAU0D,CAAV,EAAa;IACjBA,CAAC,CAACC,cAAF;IACAD,CAAC,CAACE,eAAF;IAEA,IAAIC,MAAM,GAAGH,CAAC,CAACG,MAAf;IACA,IAAIhC,OAAO,GAAG,IAAd;IAAA,IAAoBf,GAAG,GAAG,IAA1B;;IAEA,OAAO,CAACe,OAAD,IAAY,CAAC,MAAMwB,IAAN,CAAWQ,MAAM,CAACC,OAAlB,CAApB,EAAgD;MAC5CjC,OAAO,GAAGgC,MAAM,CAACf,YAAP,CAAoB,cAApB,CAAV;;MACA,IAAIjB,OAAJ,EAAa;QACTf,GAAG,GAAG+C,MAAM,CAACE,UAAb;QACA;MACH;;MACDF,MAAM,GAAGA,MAAM,CAACN,UAAhB;IACH;;IAED,IAAI,CAAC1B,OAAL,EAAc;IAEd,IAAMmC,WAAW,GAAGlD,GAAG,CAACE,KAAJ,CAAUiD,OAAV,CAAkB/B,OAAlB,CAA0B,WAA1B,EAAuC,GAAvC,EAA4Ca,KAA5C,CAAkD,GAAlD,CAApB;IACAiB,WAAW,CAACE,GAAZ;IAEA,IAAMC,OAAO,GAAGrD,GAAG,CAACsD,SAApB;;IACA,KAAK,IAAI5C,CAAC,GAAG,CAAR,EAAWC,GAAG,GAAG0C,OAAO,CAACzC,MAA9B,EAAsCF,CAAC,GAAGC,GAA1C,EAA+CD,CAAC,EAAhD,EAAoD;MAChDwC,WAAW,CAAC7B,IAAZ,CAAiB,MAAMgC,OAAO,CAAC3C,CAAD,CAA9B;IACH;;IAED,IAAM6C,OAAO,GAAG,KAAK/D,IAAL,CAAUgD,QAAV,CAAmBO,MAAnB,EAA2B,QAA3B,IAAuC,IAAvC,GAA8C/C,GAAG,CAACwD,SAAJ,CAAc,KAAd,CAA9D;IACA,IAAMC,WAAW,GAAGF,OAAO,GAAG,IAAH,GAAU,CAACvD,GAAG,CAACsC,QAAL,CAArC;IACA,KAAKoB,UAAL,CAAgBH,OAAhB,EAAyBL,WAAzB,EAAsCO,WAAtC,EAAmD,IAAnD;IAEA,KAAKE,UAAL;EACH;AA5JU,CAAf"},"metadata":{},"sourceType":"module"}