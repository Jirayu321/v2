{"ast":null,"code":"/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n'use strict';\n\nexport default {\n  name: 'align',\n  display: 'submenu',\n  add: function add(core, targetElement) {\n    var icons = core.icons;\n    var context = core.context;\n    context.align = {\n      targetButton: targetElement,\n      _itemMenu: null,\n      _alignList: null,\n      currentAlign: '',\n      defaultDir: core.options.rtl ? 'right' : 'left',\n      icons: {\n        justify: icons.align_justify,\n        left: icons.align_left,\n        right: icons.align_right,\n        center: icons.align_center\n      }\n    };\n    /** set submenu */\n\n    var listDiv = this.setSubmenu(core);\n    var listUl = context.align._itemMenu = listDiv.querySelector('ul');\n    /** add event listeners */\n\n    listUl.addEventListener('click', this.pickup.bind(core));\n    context.align._alignList = listUl.querySelectorAll('li button');\n    /** append target button menu */\n\n    core.initMenuTarget(this.name, targetElement, listDiv);\n    /** empty memory */\n\n    listDiv = null, listUl = null;\n  },\n  setSubmenu: function setSubmenu(core) {\n    var lang = core.lang;\n    var icons = core.icons;\n    var listDiv = core.util.createElement('DIV');\n    var alignItems = core.options.alignItems;\n    var html = '';\n\n    for (var i = 0, item, text; i < alignItems.length; i++) {\n      item = alignItems[i];\n      text = lang.toolbar['align' + item.charAt(0).toUpperCase() + item.slice(1)];\n      html += '<li>' + '<button type=\"button\" class=\"se-btn-list se-btn-align\" data-value=\"' + item + '\" title=\"' + text + '\" aria-label=\"' + text + '\">' + '<span class=\"se-list-icon\">' + icons['align_' + item] + '</span>' + text + '</button>' + '</li>';\n    }\n\n    listDiv.className = 'se-submenu se-list-layer se-list-align';\n    listDiv.innerHTML = '' + '<div class=\"se-list-inner\">' + '<ul class=\"se-list-basic\">' + html + '</ul>' + '</div>';\n    return listDiv;\n  },\n\n  /**\n   * @Override core\n   */\n  active: function active(element) {\n    var alignContext = this.context.align;\n    var targetButton = alignContext.targetButton;\n    var target = targetButton.firstElementChild;\n\n    if (!element) {\n      this.util.changeElement(target, alignContext.icons[alignContext.defaultDir]);\n      targetButton.removeAttribute('data-focus');\n    } else if (this.util.isFormatElement(element)) {\n      var textAlign = element.style.textAlign;\n\n      if (textAlign) {\n        this.util.changeElement(target, alignContext.icons[textAlign] || alignContext.icons[alignContext.defaultDir]);\n        targetButton.setAttribute('data-focus', textAlign);\n        return true;\n      }\n    }\n\n    return false;\n  },\n\n  /**\n   * @Override submenu\n   */\n  on: function on() {\n    var alignContext = this.context.align;\n    var alignList = alignContext._alignList;\n    var currentAlign = alignContext.targetButton.getAttribute('data-focus') || alignContext.defaultDir;\n\n    if (currentAlign !== alignContext.currentAlign) {\n      for (var i = 0, len = alignList.length; i < len; i++) {\n        if (currentAlign === alignList[i].getAttribute('data-value')) {\n          this.util.addClass(alignList[i], 'active');\n        } else {\n          this.util.removeClass(alignList[i], 'active');\n        }\n      }\n\n      alignContext.currentAlign = currentAlign;\n    }\n  },\n  exchangeDir: function exchangeDir() {\n    var dir = this.options.rtl ? 'right' : 'left';\n    if (!this.context.align || this.context.align.defaultDir === dir) return;\n    this.context.align.defaultDir = dir;\n    var menu = this.context.align._itemMenu;\n    var leftBtn = menu.querySelector('[data-value=\"left\"]');\n    var rightBtn = menu.querySelector('[data-value=\"right\"]');\n\n    if (leftBtn && rightBtn) {\n      var lp = leftBtn.parentElement;\n      var rp = rightBtn.parentElement;\n      lp.appendChild(rightBtn);\n      rp.appendChild(leftBtn);\n    }\n  },\n  pickup: function pickup(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    var target = e.target;\n    var value = null;\n\n    while (!value && !/UL/i.test(target.tagName)) {\n      value = target.getAttribute('data-value');\n      target = target.parentNode;\n    }\n\n    if (!value) return;\n    var defaultDir = this.context.align.defaultDir;\n    var selectedFormsts = this.getSelectedElements();\n\n    for (var i = 0, len = selectedFormsts.length; i < len; i++) {\n      this.util.setStyle(selectedFormsts[i], 'textAlign', value === defaultDir ? '' : value);\n    }\n\n    this.effectNode = null;\n    this.submenuOff();\n    this.focus(); // history stack\n\n    this.history.push(false);\n  }\n};","map":{"version":3,"names":["name","display","add","core","targetElement","icons","context","align","targetButton","_itemMenu","_alignList","currentAlign","defaultDir","options","rtl","justify","align_justify","left","align_left","right","align_right","center","align_center","listDiv","setSubmenu","listUl","querySelector","addEventListener","pickup","bind","querySelectorAll","initMenuTarget","lang","util","createElement","alignItems","html","i","item","text","length","toolbar","charAt","toUpperCase","slice","className","innerHTML","active","element","alignContext","target","firstElementChild","changeElement","removeAttribute","isFormatElement","textAlign","style","setAttribute","on","alignList","getAttribute","len","addClass","removeClass","exchangeDir","dir","menu","leftBtn","rightBtn","lp","parentElement","rp","appendChild","e","preventDefault","stopPropagation","value","test","tagName","parentNode","selectedFormsts","getSelectedElements","setStyle","effectNode","submenuOff","focus","history","push"],"sources":["/Users/jirayuyungmeesuk/Desktop/code/client/node_modules/suneditor/src/plugins/submenu/align.js"],"sourcesContent":["/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n'use strict';\n\nexport default {\n    name: 'align',\n    display: 'submenu',\n    add: function (core, targetElement) {\n        const icons = core.icons;\n        const context = core.context;\n        context.align = {\n            targetButton: targetElement,\n            _itemMenu: null,\n            _alignList: null,\n            currentAlign: '',\n            defaultDir: core.options.rtl ? 'right' : 'left',\n            icons: {\n                justify: icons.align_justify,\n                left: icons.align_left,\n                right: icons.align_right,\n                center: icons.align_center\n            }\n        };\n\n        /** set submenu */\n        let listDiv = this.setSubmenu(core);\n        let listUl = context.align._itemMenu = listDiv.querySelector('ul');\n\n        /** add event listeners */\n        listUl.addEventListener('click', this.pickup.bind(core));\n        context.align._alignList = listUl.querySelectorAll('li button');\n\n        /** append target button menu */\n        core.initMenuTarget(this.name, targetElement, listDiv);\n\n        /** empty memory */\n        listDiv = null, listUl = null;\n    },\n\n    setSubmenu: function (core) {\n        const lang = core.lang;\n        const icons = core.icons;\n        const listDiv = core.util.createElement('DIV');\n        const alignItems = core.options.alignItems;\n\n        let html = '';\n        for (let i = 0, item, text; i < alignItems.length; i++) {\n            item = alignItems[i];\n            text = lang.toolbar['align' + item.charAt(0).toUpperCase() + item.slice(1)];\n            html += '<li>' +\n                '<button type=\"button\" class=\"se-btn-list se-btn-align\" data-value=\"' + item + '\" title=\"' + text + '\" aria-label=\"' + text + '\">' +\n                    '<span class=\"se-list-icon\">' + icons['align_' + item] + '</span>' + text +\n                '</button>' +\n            '</li>';\n        }\n\n        listDiv.className = 'se-submenu se-list-layer se-list-align';\n        listDiv.innerHTML = '' +\n            '<div class=\"se-list-inner\">' +\n                '<ul class=\"se-list-basic\">' +\n                    html +\n                '</ul>' +\n            '</div>';\n\n        return listDiv;\n    },\n\n    /**\n     * @Override core\n     */\n    active: function (element) {\n        const alignContext = this.context.align;\n        const targetButton = alignContext.targetButton;\n        const target = targetButton.firstElementChild;\n\n        if (!element) {\n            this.util.changeElement(target, alignContext.icons[alignContext.defaultDir]);\n            targetButton.removeAttribute('data-focus');\n        } else if (this.util.isFormatElement(element)) {\n            const textAlign = element.style.textAlign;\n            if (textAlign) {\n                this.util.changeElement(target, alignContext.icons[textAlign] || alignContext.icons[alignContext.defaultDir]);\n                targetButton.setAttribute('data-focus', textAlign);\n                return true;\n            }\n        }\n\n        return false;\n    },\n\n    /**\n     * @Override submenu\n     */\n    on: function () {\n        const alignContext = this.context.align;\n        const alignList = alignContext._alignList;\n        const currentAlign = alignContext.targetButton.getAttribute('data-focus') || alignContext.defaultDir;\n\n        if (currentAlign !== alignContext.currentAlign) {\n            for (let i = 0, len = alignList.length; i < len; i++) {\n                if (currentAlign === alignList[i].getAttribute('data-value')) {\n                    this.util.addClass(alignList[i], 'active');\n                } else {\n                    this.util.removeClass(alignList[i], 'active');\n                }\n            }\n\n            alignContext.currentAlign = currentAlign;\n        }\n    },\n\n    exchangeDir: function () {\n        const dir = this.options.rtl ? 'right' : 'left';\n        if (!this.context.align || this.context.align.defaultDir === dir) return;\n\n        this.context.align.defaultDir = dir;\n        let menu = this.context.align._itemMenu;\n        let leftBtn = menu.querySelector('[data-value=\"left\"]');\n        let rightBtn = menu.querySelector('[data-value=\"right\"]');\n        if (leftBtn && rightBtn) {\n            const lp = leftBtn.parentElement;\n            const rp = rightBtn.parentElement;\n            lp.appendChild(rightBtn);\n            rp.appendChild(leftBtn);\n        }\n    },\n\n    pickup: function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        let target = e.target;\n        let value = null;\n\n        while (!value && !/UL/i.test(target.tagName)) {\n            value = target.getAttribute('data-value');\n            target = target.parentNode;\n        }\n\n        if (!value) return;\n\n        const defaultDir = this.context.align.defaultDir;\n        const selectedFormsts = this.getSelectedElements();\n        for (let i = 0, len = selectedFormsts.length; i < len; i++) {\n            this.util.setStyle(selectedFormsts[i], 'textAlign', (value === defaultDir ? '' : value));\n        }\n\n        this.effectNode = null;\n        this.submenuOff();\n        this.focus();\n        \n        // history stack\n        this.history.push(false);\n    }\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}